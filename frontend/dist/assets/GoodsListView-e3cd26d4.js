import{d as A,u as D,l as L,m as E,c as R,r as s,a as b,e,w as t,k as p,f as m,n as $,g as u,j as w,q as j,F as q,h as z,b as n,t as g,p as K,i as T,_ as Y}from"./index-bb0676e0.js";import{u as H}from"./goodsStore-dad07cae.js";import{g as J}from"./image-d30f5149.js";const O=r=>(K("data-v-c574685b"),r=r(),T(),r),Q={class:"goods-list-view"},W=O(()=>n("span",{class:"divider"},"~",-1)),X=["src"],Z={class:"goods-body"},ee={class:"description"},oe={class:"meta"},te={class:"price"},le=A({__name:"GoodsListView",setup(r){const y=D(),d=H(),V=L(),o=E({category:void 0,minPrice:void 0,maxPrice:void 0,keyword:""}),h=R(()=>V.isAuthenticated),x=()=>{d.loadGoods({category:o.category,minPrice:o.minPrice,maxPrice:o.maxPrice,keyword:o.keyword})},P=()=>{o.category=void 0,o.minPrice=void 0,o.maxPrice=void 0,o.keyword="",d.loadGoods()},C=f=>y.push(`/goods/${f}`),S=()=>y.push("/goods/mine");return d.goods.length||d.loadGoods(),(f,a)=>{const c=s("el-option"),G=s("el-select"),i=s("el-form-item"),v=s("el-input-number"),B=s("el-input"),_=s("el-button"),F=s("el-form"),k=s("el-card"),I=s("el-skeleton-item"),M=s("el-col"),U=s("el-row"),N=s("el-skeleton");return m(),b("div",Q,[e(k,{class:"filter-card"},{default:t(()=>[e(F,{model:o,inline:"",onSubmit:a[4]||(a[4]=$(()=>{},["prevent"]))},{default:t(()=>[e(i,{label:"Category"},{default:t(()=>[e(G,{modelValue:o.category,"onUpdate:modelValue":a[0]||(a[0]=l=>o.category=l),placeholder:"Filter by category",clearable:""},{default:t(()=>[e(c,{label:"All",value:void 0}),e(c,{label:"Electronics",value:"Electronics"}),e(c,{label:"Books",value:"Books"}),e(c,{label:"Daily",value:"Daily"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"Price Range"},{default:t(()=>[e(v,{modelValue:o.minPrice,"onUpdate:modelValue":a[1]||(a[1]=l=>o.minPrice=l),min:0,placeholder:"Min"},null,8,["modelValue"]),W,e(v,{modelValue:o.maxPrice,"onUpdate:modelValue":a[2]||(a[2]=l=>o.maxPrice=l),min:0,placeholder:"Max"},null,8,["modelValue"])]),_:1}),e(i,{label:"Keyword"},{default:t(()=>[e(B,{modelValue:o.keyword,"onUpdate:modelValue":a[3]||(a[3]=l=>o.keyword=l),placeholder:"Search product",clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(_,{type:"primary",onClick:x},{default:t(()=>[u("Apply")]),_:1}),e(_,{onClick:P},{default:t(()=>[u("Reset")]),_:1}),h.value?(m(),w(_,{key:0,type:"success",onClick:S},{default:t(()=>[u(" Manage My Goods ")]),_:1})):j("",!0)]),_:1})]),_:1},8,["model"])]),_:1}),e(N,{loading:p(d).loading,animated:""},{template:t(()=>[e(I,{variant:"rect",style:{width:"100%",height:"148px","margin-bottom":"16px"}})]),default:t(()=>[e(U,{gutter:16,class:"goods-grid"},{default:t(()=>[(m(!0),b(q,null,z(p(d).goods,l=>(m(),w(M,{key:l.id,xs:24,sm:12,md:8},{default:t(()=>[e(k,{class:"goods-card",shadow:"hover"},{default:t(()=>[n("img",{src:l.coverImageUrl||p(J)(l.category),alt:"",class:"goods-cover"},null,8,X),n("div",Z,[n("h3",null,g(l.title),1),n("p",ee,g(l.description),1),n("div",oe,[n("span",te,"CNY "+g(l.price),1),e(_,{size:"small",type:"primary",onClick:se=>C(l.id)},{default:t(()=>[u("View detail")]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])])}}});const re=Y(le,[["__scopeId","data-v-c574685b"]]);export{re as default};
